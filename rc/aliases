# Directory operations
alias ..='cd ..'
alias ...='cd ../..'
alias -- -='cd -'
#alias l='ls -amPF'
#alias ll='ls -al -GF'
alias l='exa -xa'
alias ll='exa -lah --git'
treeDir() {
    #tree -lhcr --dirsfirst $@ | more
    exa -lhT --git "${@}" | more
}
alias lll=treeDir

# Super user
alias _='sudo'
alias pls='sudo'
alias please='sudo'

# Host files
alias ho='$EDITOR /etc/hosts'

# Rake noglob for ZSH
alias rake='noglob rake'

# Restart VirtualBox
alias vbfix='pls /Library/StartupItems/VirtualBox/VirtualBox restart'

# Copy ~/.lolcommits/config.yml to ~/.lolcommits/<repo_name>/config.yml

cpLulz() {
  lulname="${PWD##*/}"
  lulpath="${HOME}/.lolcommits/${lulname}"
  if [[ ! -d $lulpath ]]; then
    echo "Whoops! Doesn't seem like '${lulpath}' even exists."
    mkdir $lulpath && echo "Made ${lulpath} for you dude."
  fi
  echo "Copying over '${HOME}/.lolcommits/config.yml' to '${lulpath}/config.yml'"
  cp -v $HOME/.lolcommits/config.yml $HOME/.lolcommits/$lulname/config.yml
}

alias moar-lulz=cpLulz

getCfQuota() {
  cf quota $(cf org $1 | grep quota: | awk '{print $2}')
}

alias cf-get-quota=getCfQuota

searchCf() {
  cf help -a | grep $@
}

alias wtcf=searchCf

chooseEnv() {
  # Manually adding envs here as I `envchain --set` them because envchain
  # doesn't have a `--list` or `ls` command.
  # See: https://github.com/sorah/envchain/issues/17
  select env_name in $(< ~/.config/envchain/list.env)
  do
    if [[ $env_name == "" ]]
    then
      echo "Please choose from the available environments!"
      continue
    fi
    envchain ${env_name} zsh
    break
  done
}

alias wenv=chooseEnv

chooseTerraform() {
  # Choose a specific version of terraform based on binaries being in your path
  # with a `-` separator e.g. $PATH/terraform-v0.11.14, $PATH/terraform-v0.12.1
  select version in $(ls /usr/local/bin/ | grep terraform\- | cut -d '-' -f 2)
  do
    if [[ $version == "" ]]
    then
      echo "Please choose from the available versions!"
      continue
    fi
    file="/usr/local/bin/terraform-${version}"

    # Check if there's already a symlink in place and delete it.
    rm -rf $(find /usr/local/bin -type l -name terraform)
    ln -s /usr/local/bin/terraform-${version} /usr/local/bin/terraform
    break
  done
}

alias wtf=chooseTerraform

# Remove Cisco Connect VPN profiles
alias delete_cisco_connect_profiles='pls rm -rvf /opt/cisco/anyconnect/profile/gsa_cp-gfe.xml'
